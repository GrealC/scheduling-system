# 智能排班系统接口文档

## 预测模块

### 客流量预测

1.基本信息

>请求路径：/predict
>
>请求方式：GET
>
>接口描述：该接口用于预测未来七天的客流量

2.请求参数

- 参数格式：application/json

- 参数说明：

  | 参数名  | 类型   | 是否必须 | 备注                                                         |
  | ------- | ------ | -------- | ------------------------------------------------------------ |
  | storeId | String | 是       | 店铺id。格式应当如下：1-2。其中1代表店铺号为一号，2代表时段为时段2，默认3个时段(1,2,3)(可以理解为，1=上午、2=下午、3=晚上) |
  | time    | String | 是       | 格式：yyyy-MM-dd                                             |

  

3.响应参数

- 参数格式：application/json

- 参数说明：

  | 参数名 | 类型   | 是否必须 | 备注                           |
  | ------ | ------ | -------- | ------------------------------ |
  | code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
  | msg    | string | 非必须   | 提示信息                       |
  | data   | object | 非必须   | 返回的数据                     |

- 响应数据类型样例：

  ````javascript
  {
      "code": 1,
      "msg": "success",
      "data": [
          [
              "Mon Nov 13 00:00:00 CST 2023",
              "Tue Nov 14 00:00:00 CST 2023",
              "Wed Nov 15 00:00:00 CST 2023",
              "Thu Nov 16 00:00:00 CST 2023",
              "Fri Nov 17 00:00:00 CST 2023",
              "Sat Nov 18 00:00:00 CST 2023",
              "Sun Nov 19 00:00:00 CST 2023"
          ],
          [
              "46",
              "27",
              "16",
              "33",
              "58",
              "88",
              "66"
          ],
          [
              "39",
              "44",
              "29",
              "32",
              "31",
              "35",
              "48"
          ],
          [
              "34",
              "16",
              "17",
              "32",
              "46",
              "68",
              "53"
          ]
      ]
  }
  ````

  > PS: Data中是一个`String[4][7]`的数组，一个二维矩阵存储预测数据，顶部一栏为未来七天的时间，下面三栏分别对应未来七天时间段1、2、3的预测客流量。例如下：

  | Mon Nov 13 00:00:00 CST 2023(预测时间，后面类推) |      |      |      |      |      |      |
  | ------------------------------------------------ | ---- | ---- | ---- | ---- | ---- | ---- |
  | 46                                               | 24   | 16   | 33   | 58   | 88   | 66   |
  | 39                                               | 44   | 29   | 32   | 31   | 35   | 48   |
  | 34                                               | 16   | 17   | 32   | 45   | 68   | 53   |

  

  ### 客流量记录等级

  1.基本信息

  >请求路径：/storage
  >
  >请求方式：POST
  >
  >接口描述：该接口用于收集并存储当天的真是客流量数据

  2.请求参数

  - 参数格式：application/json

  - 参数说明：

    | 参数名     | 类型    | 是否必须 | 备注                                                         |
    | ---------- | ------- | -------- | ------------------------------------------------------------ |
    | storeId    | String  | 是       | 店铺id。格式应当如下：1-2。其中1代表店铺号为一号，2代表时段为时段2，默认3个时段(1,2,3)(可以理解为，1=上午、2=下午、3=晚上) |
    | date       | String  | 是       | 格式：yyyy-MM-dd                                             |
    | weather    | String  | 是       |                                                              |
    | isVacation | Boolean | 是       | 1是，0否                                                     |
    | business   | Integer | 是       | 客流量                                                       |

  3.响应参数

  - 参数格式：application/json

  - 参数说明：

    | 参数名 | 类型   | 是否必须 | 备注                           |
    | ------ | ------ | -------- | ------------------------------ |
    | code   | number | 必须     | 响应码，1 代表成功，0 代表失败 |
    | msg    | string | 非必须   | 提示信息                       |
    | data   | object | 非必须   | 返回的数据                     |

  - 响应数据类型样例：

  ```javascript
  {
      "code": 1,
      "msg": "success",
      "data": null
  }
  ```

  

  